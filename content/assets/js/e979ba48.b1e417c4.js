"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[30046],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>f});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),c=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(r),h=n,f=u["".concat(l,".").concat(h)]||u[h]||d[h]||o;return r?a.createElement(f,i(i({ref:t},p),{},{components:r})):a.createElement(f,i({ref:t},p))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:n,i[1]=s;for(var c=2;c<o;c++)i[c]=r[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}h.displayName="MDXCreateElement"},19203:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var a=r(87462),n=(r(67294),r(3905));const o={},i="Apache Pulsar Proxy target broker address isn't validated (CVE-2022-24280)",s={unversionedId:"CVE-2022-24280",id:"CVE-2022-24280",title:"Apache Pulsar Proxy target broker address isn't validated (CVE-2022-24280)",description:"PRODUCT AFFECTED:",source:"@site/security/CVE-2022-24280.md",sourceDirName:".",slug:"/CVE-2022-24280",permalink:"/security/CVE-2022-24280",draft:!1,tags:[],version:"current",frontMatter:{}},l={},c=[{value:"PRODUCT AFFECTED:",id:"product-affected",level:2},{value:"PROBLEM:",id:"problem",level:2},{value:"WORKAROUND:",id:"workaround",level:2},{value:"Detailed configuration documentation and examples",id:"detailed-configuration-documentation-and-examples",level:2},{value:"RELATED LINKS:",id:"related-links",level:2},{value:"ACKNOWLEDGEMENTS:",id:"acknowledgements",level:2}],p={toc:c};function u(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"apache-pulsar-proxy-target-broker-address-isnt-validated-cve-2022-24280"},"Apache Pulsar Proxy target broker address isn't validated (CVE-2022-24280)"),(0,n.kt)("h2",{id:"product-affected"},"PRODUCT AFFECTED:"),(0,n.kt)("p",null,"This issue affects Apache Pulsar 2.6 and earlier, 2.7, 2.8, 2.9."),(0,n.kt)("h2",{id:"problem"},"PROBLEM:"),(0,n.kt)("p",null,"Severity: important"),(0,n.kt)("p",null,"Improper Input Validation vulnerability in Proxy component of Apache Pulsar allows an attacker to make TCP/IP connection attempts that originate from the Pulsar Proxy's IP address."),(0,n.kt)("p",null,"When the Apache Pulsar Proxy component is used, it is possible to attempt to open TCP/IP connections to any IP address and port that the Pulsar Proxy can connect to. An attacker could use this as a way for DoS attacks that originate from the Pulsar Proxy's IP address."),(0,n.kt)("p",null,"It hasn\u2019t been detected that the Pulsar Proxy authentication can be bypassed. The attacker will have to have a valid token to a properly secured Pulsar Proxy."),(0,n.kt)("p",null,"This issue affects Apache Pulsar Proxy versions 2.7.0 to 2.7.4; 2.8.0 to 2.8.2; 2.9.0 to 2.9.1; 2.6.4 and earlier."),(0,n.kt)("p",null,"This issue has been assigned ",(0,n.kt)("a",{parentName:"p",href:"http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24280"},"CVE-2022-24280"),"."),(0,n.kt)("h2",{id:"workaround"},"WORKAROUND:"),(0,n.kt)("p",null,"To address the issue, upgraded versions of Apache Pulsar Proxy will only allow connections to known broker ports 6650 and 6651 by default. In addition, it is necessary to limit proxied broker connections further to known broker addresses by specifying ",(0,n.kt)("inlineCode",{parentName:"p"},"brokerProxyAllowedHostNames")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"brokerProxyAllowedIPAddresses")," Pulsar Proxy settings. In Pulsar Helm chart deployments, the setting names should be prefixed with ",(0,n.kt)("inlineCode",{parentName:"p"},"PULSAR_PREFIX_"),"."),(0,n.kt)("p",null,"2.7 users should upgrade Pulsar Proxies to 2.7.5 and apply configuration changes."),(0,n.kt)("p",null,"2.8 users should upgrade Pulsar Proxies to at least 2.8.3 and apply configuration changes."),(0,n.kt)("p",null,"2.9 users should upgrade Pulsar Proxies to at least 2.9.2 and apply configuration changes."),(0,n.kt)("p",null,"2.10 users should apply configuration changes."),(0,n.kt)("p",null,"Any users running the Pulsar Proxy 2.6.4 and earlier should upgrade to one of the above patched versions and apply configuration changes."),(0,n.kt)("h2",{id:"detailed-configuration-documentation-and-examples"},"Detailed configuration documentation and examples"),(0,n.kt)("p",null,"Please check ",(0,n.kt)("a",{parentName:"p",href:"pathname:///docs/administration-proxy#restricting-target-broker-addresses-to-mitigate-cve-2022-24280"},"Restricting target broker addresses to mitigate CVE-2022-24280")," in the Apache Pulsar documentation for more details."),(0,n.kt)("h2",{id:"related-links"},"RELATED LINKS:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24280"},"CVE-2022-24280 at cve.mitre.org")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://lists.apache.org/thread/ghs9jtjfbpy4c6xcftyvkl6swznlom1v"},"https://lists.apache.org/thread/ghs9jtjfbpy4c6xcftyvkl6swznlom1v"))),(0,n.kt)("h2",{id:"acknowledgements"},"ACKNOWLEDGEMENTS:"),(0,n.kt)("p",null,"This issue was discovered by Lari Hotari of DataStax."),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/security/"},"Security Advisories")))}u.isMDXComponent=!0}}]);